syntax = "proto3";
package allocation.v1;

import "gogoproto/gogo.proto";

option go_package = "github.com/peggyjv/sommelier/x/allocation/types";

// CreateCellarsProposal is a governance proposal content type
message CreateCellarsProposal {
  string          title = 1;
  string          description = 2;
  repeated Cellar cellars = 3;
}

// Cellar is the XXX
message Cellar {
  string        cellar_id = 1;
  string        token0 = 2;
  string        token1 = 3;
  repeated Pool pool = 4;
}

// Pool is the XXX
message Pool {
  string        fee_level = 1; // sdk.Dec
  repeated Tick tick_ranges = 2;
}

// AllocationPrecommit defines an array of hashed decision data
// that is used for the precommit phase of allocation
message AllocationPrecommit {
  bytes hash = 1 [(gogoproto.casttype) = "github.com/tendermint/tendermint/libs/bytes.HexBytes"];
}

// Allocation is the XXX
message Allocation {
  string              cellar_id = 1;
  string              fee_level = 2; // sdk.Dec
  repeated TickWeight tick_weights = 3;
}

// TickWeight is the XXX
message TickWeight {
  Tick  tick = 1;
  string weight = 2; // sdk.Dec
}

// Tick is the XXX
message Tick {
  uint64 min = 1;
  uint64 max = 2;
}